<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Moeda Maker</title>
  <script>
    // Enable class-based dark mode for Tailwind CDN
    tailwind.config = { darkMode: 'class' };
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.10.0/dist/ethers.umd.min.js"></script>
  <!-- Safe (Gnosis) Apps SDK & Provider UMD builds -->
  <script src="https://unpkg.com/@safe-global/safe-apps-sdk@9.1.0/dist/safe-apps-sdk.umd.min.js"></script>
  <script src="https://unpkg.com/@safe-global/safe-apps-provider@0.17.1/dist/safe-apps-provider.umd.min.js"></script>
  <!-- Optional WalletConnect provider for Rainbow/mobile wallets -->
  <!-- WalletConnect provider (local copy, pinned version) -->
  <script src="vendor/walletconnect-ethereum-provider/index.umd.js"></script>
  <script>
    // Bridge UMD namespace to a simpler global for easier detection
    (function(){
      var ns = window['@walletconnect/ethereum-provider'];
      if (ns && !window.WalletConnectEthereumProvider) {
        var E = ns.EthereumProvider || ns.default || ns;
        if (E) {
          window.WalletConnectEthereumProvider = E;
        }
      }
      // Expose Safe Apps SDK/Provider globals in a predictable way
      if (!window.SafeAppsSDK && window.safeAppsSDK) {
        window.SafeAppsSDK = window.safeAppsSDK;
      }
      if (!window.SafeAppsProvider && window.safeAppsProvider) {
        window.SafeAppsProvider = window.safeAppsProvider;
      }
    })();
  </script>
  <!-- Optional env overrides for static hosting: create public/env.js from env.example.js -->
  <script src="env.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
  </style>
</head>
<body class="bg-gradient-to-b from-slate-50 via-white to-slate-100 dark:from-slate-900 dark:via-slate-950 dark:to-slate-900 text-slate-900 dark:text-slate-100">
  <div id="root"></div>

  <script>
    (function () {
      try {
        var base = window.API_BASE || (location && location.origin ? location.origin : '');
        if (base && typeof axios !== 'undefined') {
          axios.defaults.baseURL = base;
        }
        // Detect Safe App context early and attach provider for EIP-1193 compatibility
        (async function initSafe() {
          try {
            if (!window.SafeAppsSDK) return;
            const sdk = new window.SafeAppsSDK();
            // If not in Safe, getInfo will throw
            const info = await sdk.safe.getInfo();
            window.IS_SAFE_APP = true;
            window.SAFE_INFO = info;
            // Attach Safe provider to window.ethereum so generic flows work
            if (window.SafeAppsProvider) {
              const safeProvider = new window.SafeAppsProvider(sdk);
              window.ethereum = safeProvider;
            }
            // Optionally broadcast an event so UI can react
            window.dispatchEvent(new CustomEvent('safe:ready', { detail: info }));
          } catch (_) {
            window.IS_SAFE_APP = false;
          }
        })();
      } catch (e) {}
    })();
  </script>

  <!-- Side menu: Dashboard, 🚀 Make Moeda, 🏦 Bank Connect -->
    <script src="assets/app.js" defer></script>
</body>
</html>







